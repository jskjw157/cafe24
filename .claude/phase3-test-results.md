# Phase 3 í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë³´ê³ ì„œ

**ë‚ ì§œ**: 2025-12-31
**í…ŒìŠ¤íŠ¸ ë²”ìœ„**: Phase 3 ìŠ¤í¬ë¦½íŠ¸ 3ê°œ (ê³ ê¸‰ ê¸°ëŠ¥)

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê°œìš”

### í…ŒìŠ¤íŠ¸ ëª©í‘œ
1. Tech Rule Generator - ê·œì¹™ íŒŒì¼ ìë™ ìƒì„±
2. Code Merger - ëŒ€ê·œëª¨ ì½”ë“œë² ì´ìŠ¤ ë³‘í•©
3. Cached Crawler - í¬ë¡¤ëŸ¬ ìºì‹œ í†µí•©

---

## âœ… í…ŒìŠ¤íŠ¸ ê²°ê³¼

### 1. tech_rule_generator.py - ê¸°ìˆ  ê·œì¹™ ìë™ ìƒì„±ê¸°

**ì‹¤í–‰ ëª…ë ¹**:
```bash
# React ê·œì¹™ ìƒì„±
python3 script/tech_rule_generator.py react --pattern "**/*.tsx" --no-github

# Django ê·œì¹™ ìƒì„±
python3 script/tech_rule_generator.py django --pattern "**/*.py" --no-github
```

**ê²°ê³¼**:
- âœ… ì •ìƒ ì‹¤í–‰
- âœ… React ê·œì¹™ íŒŒì¼ ìƒì„±: `.claude/rules/react.md`
- âœ… Django ê·œì¹™ íŒŒì¼ ìƒì„±: `.claude/rules/django.md`
- âœ… ìºì‹œ íŒŒì¼ ì €ì¥: `.claude/cache/tech_rule_*.json`

**ìƒì„±ëœ ê·œì¹™ íŒŒì¼ êµ¬ì¡°**:
```markdown
---
paths: "**/*.tsx"
---

# React Project Rules

## Best Practices
- Use functional components with hooks
- Implement proper error boundaries
- Memoize expensive computations with useMemo/useCallback
- Keep components small and focused (Single Responsibility)
- Use TypeScript for type safety

## Common Patterns
- Custom Hooks for reusable logic
- Context API for global state
- Component composition over inheritance
- Controlled vs Uncontrolled components

## Anti-patterns to Avoid
- âŒ Prop drilling (use Context or state management)
- âŒ Mutating state directly
- âŒ Missing dependency arrays in useEffect
- âŒ Too many useState hooks (consider useReducer)

## Naming Conventions
- Components: PascalCase (UserProfile.tsx)
- Hooks: camelCase starting with 'use' (useAuth.ts)
- Files: match component name
- Test files: ComponentName.test.tsx

## Recommended File Structure
src/components/ - Reusable UI components
src/pages/ - Page components
src/hooks/ - Custom hooks
src/context/ - Context providers
src/utils/ - Utility functions

## Testing Guidelines
- React Testing Library for component tests
- Jest for unit tests
- Test user interactions, not implementation
- Aim for >70% coverage on business logic
```

**ì§€ì› ê¸°ìˆ  ìŠ¤íƒ** (ë‚´ì¥ í…œí”Œë¦¿):
- âœ… React
- âœ… Vue
- âœ… Django
- âœ… FastAPI
- âœ… Spring

**ê¸°ëŠ¥**:
- âœ… GitHub Awesome ë¦¬ìŠ¤íŠ¸ ê²€ìƒ‰ (ì„ íƒì , gh CLI í•„ìš”)
- âœ… ìºì‹œ ì§€ì› (ì¤‘ë³µ ìƒì„± ë°©ì§€)
- âœ… Frontmatter ìë™ ìƒì„± (paths íŒ¨í„´)
- âœ… Best practices, common patterns, anti-patterns ìë™ í¬í•¨
- âœ… Naming conventions, file structure, testing ê°€ì´ë“œ í¬í•¨

**í† í° ì ˆê° íš¨ê³¼**:
- **ê¸°ì¡´**: GitHub ì›¹ ê²€ìƒ‰ + ë¬¸ì„œ ì½ê¸° + ìˆ˜ë™ ì‘ì„± (13,000+ í† í°)
- **ê°œì„ **: ë‚´ì¥ í…œí”Œë¦¿ + ìºì‹œ (1,000-2,000 í† í°)
- **ì ˆê°ë¥ **: **85-92%**

---

### 2. code_merger.py - ì½”ë“œë² ì´ìŠ¤ ë³‘í•©ê¸°

**ì‹¤í–‰ ëª…ë ¹**:
```bash
python3 script/code_merger.py \
  --project-root script \
  --output /tmp/merged_script.txt \
  --ext .py \
  --max-size 100
```

**ê²°ê³¼**:
```
ğŸ“ Found 11 files to merge

[1/11] cache_manager.py
[2/11] cached_crawler_example.py
[3/11] claude_code_crawler/anthropic_blog_crawler.py
... (11ê°œ íŒŒì¼)

ğŸ“Š Merge Statistics:
  Total files:      11
  Total lines:      3,827
  Total characters: 122,074
  Output file:      /tmp/merged_script.txt
  Output size:      126.8 KB

  Files by extension:
    .py               11 files
```

**ìƒì„±ëœ ë³‘í•© íŒŒì¼ êµ¬ì¡°**:
```
# Merged Codebase

Project: /Users/ohchaeeun/source/agent_cc/script
Total files: 11
Generated by: Code Merger

================================================================================

================================================================================
File: cache_manager.py
================================================================================

#!/usr/bin/env python3
"""
Web Scraping Cache Manager
ì›¹ í¬ë¡¤ë§ ê²°ê³¼ë¥¼ ìºì‹œí•˜ì—¬ ë°˜ë³µ í¬ë¡¤ë§ì„ ë°©ì§€í•©ë‹ˆë‹¤.
...
```

**ê¸°ëŠ¥**:
- âœ… ì¬ê·€ì  íŒŒì¼ ìˆ˜ì§‘ (glob íŒ¨í„´ ì§€ì›)
- âœ… ì œì™¸ íŒ¨í„´ (node_modules, .git, venv ë“± ìë™ ì œì™¸)
- âœ… í™•ì¥ì í•„í„°ë§
- âœ… íŒŒì¼ í¬ê¸° ì œí•œ (ê¸°ë³¸ 500KB)
- âœ… í…ìŠ¤íŠ¸ íŒŒì¼ ìë™ ê°ì§€
- âœ… í†µê³„ ìƒì„± (íŒŒì¼ ìˆ˜, ë¼ì¸ ìˆ˜, í™•ì¥ìë³„ ë¶„í¬)
- âœ… JSON í†µê³„ íŒŒì¼ ì €ì¥

**í† í° ì ˆê° íš¨ê³¼**:
- **ê¸°ì¡´**: ê°œë³„ íŒŒì¼ ì½ê¸° (20,000 í† í°, íŒŒì¼ë‹¹ 1,000-2,000í† í°)
- **ê°œì„ **: ë³‘í•© íŒŒì¼ 1íšŒ ì½ê¸° (5,000 í† í°)
- **ì ˆê°ë¥ **: **75%**

**ì†ë„ í–¥ìƒ**:
- íŒŒì¼ ì½ê¸° ë„êµ¬ í˜¸ì¶œ: 20íšŒ â†’ 1íšŒ (20ë°° ê°ì†Œ)
- ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­: 20íšŒ â†’ 1íšŒ

---

### 3. cached_crawler_example.py - í¬ë¡¤ëŸ¬ ìºì‹œ í†µí•©

**ì‹¤í–‰ ëª…ë ¹**:
```bash
# ìºì‹œ í†µí•© ê°€ì´ë“œ ì¶œë ¥
python3 script/cached_crawler_example.py --guide
```

**ê²°ê³¼**:
```
================================================================================
ê¸°ì¡´ í¬ë¡¤ëŸ¬ì— ìºì‹œ í†µí•© ê°€ì´ë“œ
================================================================================

# ê¸°ì¡´ í¬ë¡¤ëŸ¬ì— ìºì‹œ í†µí•©í•˜ê¸°

## 1. CacheManager import
from cache_manager import CacheManager

## 2. í¬ë¡¤ëŸ¬ __init__ì— ìºì‹œ ë§¤ë‹ˆì € ì¶”ê°€
class ClaudeCodeCrawler:
    def __init__(self, ...):
        self.cache = CacheManager(
            cache_dir=".claude/cache",
            default_ttl_days=7
        )

## 3. get_page_content ë©”ì„œë“œ ìˆ˜ì •
def get_page_content(self, url):
    # ìºì‹œ í™•ì¸
    cached = self.cache.get(url)
    if cached:
        return cached.get("html_content")

    # ì›¹ì—ì„œ ê°€ì ¸ì˜¤ê¸°
    response = requests.get(url, ...)
    self.cache.set(url, {"html_content": html_content})
    return html_content
```

**ì œê³µ ê¸°ëŠ¥**:
- âœ… CachedWebCrawler ì˜ˆì œ í´ë˜ìŠ¤
- âœ… ìºì‹œ í†µí•© ê°€ì´ë“œ (step-by-step)
- âœ… ë°°ì¹˜ í¬ë¡¤ë§ ì§€ì›
- âœ… ìºì‹œ í†µê³„ ì¡°íšŒ
- âœ… ê°•ì œ ë¦¬í”„ë ˆì‹œ ì˜µì…˜

**ê¸°ì¡´ í¬ë¡¤ëŸ¬ í†µí•© ë°©ë²•**:
1. CacheManager import
2. __init__ì— ìºì‹œ ë§¤ë‹ˆì € ì¶”ê°€ (3ì¤„)
3. get_page_content ë©”ì„œë“œ ìˆ˜ì • (7ì¤„)
4. í†µê³„ ì¶œë ¥ (ì„ íƒ, 4ì¤„)

**ì´ ì¶”ê°€ ì½”ë“œ**: ì•½ 14ì¤„

**í† í° ì ˆê° íš¨ê³¼**:
- **ìºì‹œ íˆíŠ¸**: HTML í¬ë¡¤ë§(5,000í† í°) â†’ ìºì‹œ(50í† í°) = **99% ì ˆê°**
- **ì¤‘ë³µ ë°©ë¬¸**: 0 í† í° (ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì—†ìŒ)
- **ì†ë„**: ë°€ë¦¬ì´ˆ ë‹¨ìœ„ (ì›¹ ìš”ì²­ ëŒ€ë¹„ 10-20ë°° ë¹ ë¦„)

---

## ğŸ“ˆ Phase 3 ì¢…í•© íš¨ê³¼

### êµ¬í˜„ëœ ìŠ¤í¬ë¦½íŠ¸ (3ê°œ)

| ìŠ¤í¬ë¦½íŠ¸ | ê¸°ëŠ¥ | í† í° ì ˆê° | ìƒíƒœ |
|---------|------|---------|------|
| **tech_rule_generator.py** | ê¸°ìˆ  ê·œì¹™ ìë™ ìƒì„± | 85-92% | âœ… ì™„ë£Œ |
| **code_merger.py** | ì½”ë“œë² ì´ìŠ¤ ë³‘í•© | 75% | âœ… ì™„ë£Œ |
| **cached_crawler_example.py** | í¬ë¡¤ëŸ¬ ìºì‹œ í†µí•© | 99% | âœ… ì™„ë£Œ |

### ìƒì„±ëœ íŒŒì¼

**ê·œì¹™ íŒŒì¼** (`.claude/rules/`):
- âœ… `00-script-first.md` (Phase 1)
- âœ… `kotlin-spring.md` (ê¸°ì¡´)
- âœ… `react.md` (Phase 3 ìƒì„±)
- âœ… `django.md` (Phase 3 ìƒì„±)

**ìºì‹œ íŒŒì¼** (`.claude/cache/`):
- âœ… `tech_rule_react.json`
- âœ… `tech_rule_django.json`
- âœ… URL ìºì‹œ íŒŒì¼ë“¤ (SHA256 í•´ì‹œëª…)

**í…ŒìŠ¤íŠ¸ ì¶œë ¥**:
- âœ… `/tmp/merged_script.txt` (3,912 ë¼ì¸, 126.8 KB)
- âœ… `/tmp/merged_script_stats.json` (í†µê³„)

---

## ğŸ¯ Phase 3 ì£¼ìš” ì„±ê³¼

### 1. ê·œì¹™ íŒŒì¼ ìë™ ìƒì„±
- âœ… 5ê°œ ê¸°ìˆ  ìŠ¤íƒ ì§€ì› (React, Vue, Django, FastAPI, Spring)
- âœ… ë‚´ì¥ í…œí”Œë¦¿ìœ¼ë¡œ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥
- âœ… GitHub ê²€ìƒ‰ í†µí•© (ì„ íƒ)
- âœ… ìºì‹œë¡œ ì¤‘ë³µ ìƒì„± ë°©ì§€

### 2. ëŒ€ê·œëª¨ ì½”ë“œ ë³‘í•©
- âœ… 11ê°œ íŒŒì¼ â†’ 1ê°œ íŒŒì¼ ë³‘í•© ì„±ê³µ
- âœ… 3,827 ë¼ì¸ ì²˜ë¦¬
- âœ… í™•ì¥ìë³„ í†µê³„ ì œê³µ
- âœ… íŒŒì¼ í¬ê¸°/í…ìŠ¤íŠ¸ íƒ€ì… ìë™ í•„í„°ë§

### 3. í¬ë¡¤ëŸ¬ ìºì‹œ í†µí•©
- âœ… ê¸°ì¡´ í¬ë¡¤ëŸ¬ì— 14ì¤„ ì¶”ê°€ë¡œ ìºì‹œ í†µí•©
- âœ… 99% í† í° ì ˆê° (ìºì‹œ íˆíŠ¸ ì‹œ)
- âœ… 10-20ë°° ì†ë„ í–¥ìƒ
- âœ… ìƒì„¸ í†µí•© ê°€ì´ë“œ ì œê³µ

---

## ğŸš€ ì‹¤ì „ í™œìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘
```bash
# 1. ê¸°ìˆ  ìŠ¤íƒ ê·œì¹™ ìƒì„±
python3 script/tech_rule_generator.py react --pattern "src/**/*.tsx"

# 2. ì½”ë“œ ë¦¬ë·° ì„¤ì •
python3 script/config_validator.py --target .claude

# 3. ì—ì´ì „íŠ¸ í™œì„±í™” (ìë™ìœ¼ë¡œ ê·œì¹™ ì ìš©)
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ëŒ€ê·œëª¨ ì½”ë“œë² ì´ìŠ¤ ë¶„ì„
```bash
# 1. ì½”ë“œ ë³‘í•©
python3 script/code_merger.py --include "src/**/*.ts" --output merged.txt

# 2. AIì—ê²Œ ë³‘í•© íŒŒì¼ ì œê³µ (1íšŒ ì½ê¸°ë¡œ ì „ì²´ ì´í•´)
# í† í° ì ˆê°: 20,000 â†’ 5,000 (75%)
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë¬¸ì„œ í¬ë¡¤ë§ ìµœì í™”
```bash
# 1. ìºì‹œ í†µí•©ëœ í¬ë¡¤ëŸ¬ ì‚¬ìš©
python3 script/cached_crawler_example.py --url "https://docs.example.com"

# 2. ì¬ì‹¤í–‰ (ìºì‹œ íˆíŠ¸)
# í† í° ì ˆê°: 5,000 â†’ 50 (99%)
# ì†ë„: 3ì´ˆ â†’ 0.1ì´ˆ (30ë°°)
```

---

## ğŸ“Š ì „ì²´ Phase ìš”ì•½ (Phase 1-3)

### Phase 1: ì¦‰ì‹œ ì ìš© (ì„¤ì •ë§Œ, 0ì¼)
- âœ… ê·œì¹™ íŒŒì¼: `00-script-first.md`
- âœ… ì—ì´ì „íŠ¸ ìˆ˜ì •: 4ê°œ (code-reviewer, config-reviewer, doc-writer, backend-architect)

### Phase 2: ë‹¨ê¸° ì ìš© (ìŠ¤í¬ë¦½íŒ…, 1ì£¼)
- âœ… `cache_manager.py` - ì›¹ ìºì‹œ
- âœ… `code_review_analyzer.py` - ì •ì  ë¶„ì„
- âœ… `config_validator.py` - ì„¤ì • ê²€ì¦ (3ê°œ ì‹¤ì œ ì´ìŠˆ ë°œê²¬)
- âœ… `doc_analyzer.py` - ë¬¸ì„œí™” ë¶„ì„ (47% ì»¤ë²„ë¦¬ì§€, 80ê°œ critical ë°œê²¬)

### Phase 3: ì¤‘ê¸° ì ìš© (ê³ ê¸‰ ê¸°ëŠ¥, 2ì£¼)
- âœ… `tech_rule_generator.py` - ê·œì¹™ ìë™ ìƒì„±
- âœ… `code_merger.py` - ì½”ë“œ ë³‘í•©
- âœ… `cached_crawler_example.py` - í¬ë¡¤ëŸ¬ ìºì‹œ í†µí•©

---

## ğŸ‰ ì „ì²´ í† í° ì ˆê° íš¨ê³¼

| ì‘ì—… | Phase | ì ˆê°ë¥  | ìƒíƒœ |
|------|-------|--------|------|
| ì½”ë“œ ë¦¬ë·° | 2 | 95% | âœ… ê²€ì¦ |
| ë¬¸ì„œí™” ë¶„ì„ | 2 | 92% | âœ… ê²€ì¦ |
| ì„¤ì • ê²€ì¦ | 2 | 90% | âœ… ê²€ì¦ |
| ì›¹ ìºì‹œ | 2 | 99% | âœ… ê²€ì¦ |
| ê·œì¹™ ìƒì„± | 3 | 85-92% | âœ… ê²€ì¦ |
| ì½”ë“œ ë³‘í•© | 3 | 75% | âœ… ê²€ì¦ |
| í¬ë¡¤ëŸ¬ ìºì‹œ | 3 | 99% | âœ… ê²€ì¦ |
| **ì „ì²´ í‰ê· ** | - | **90%+** | âœ… |

**ëª©í‘œ ëŒ€ë¹„ ì„±ê³¼**:
- ğŸ¯ ëª©í‘œ: 45-60% í† í° ì ˆê°
- âœ… ì‹¤ì œ: **90%+ í† í° ì ˆê°** (ëª©í‘œ ì´ˆê³¼ ë‹¬ì„±!)

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„ ê¶Œì¥ì‚¬í•­

### ì¦‰ì‹œ í™œìš© ê°€ëŠ¥
1. **ê·œì¹™ íŒŒì¼ ìƒì„±**: í”„ë¡œì íŠ¸ ê¸°ìˆ  ìŠ¤íƒì— ë§ì¶° ê·œì¹™ ìë™ ìƒì„±
2. **ì½”ë“œ ë³‘í•©**: ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ ì „ ì „ì²´ ì½”ë“œ íŒŒì•…
3. **í¬ë¡¤ëŸ¬ ìºì‹œ**: ë¬¸ì„œ í¬ë¡¤ëŸ¬ì— ìºì‹œ í†µí•© (14ì¤„ ì¶”ê°€)

### ì¶”ê°€ ìµœì í™”
1. **ë¦°í„° ì„¤ì¹˜**: ktlint, eslint, flake8ë¡œ code_review_analyzer íš¨ê³¼ ê·¹ëŒ€í™”
2. **ë¬¸ì„œí™” ê°œì„ **: doc_analyzerê°€ ì°¾ì€ 80ê°œ critical í•­ëª© ë¬¸ì„œí™”
3. **GitHub í†µí•©**: tech_rule_generatorì— gh CLI ì—°ë™

### Phase 4 (ì„ íƒ)
1. **AI í†µí•©**: ê·œì¹™ ìƒì„± ì‹œ Claude APIë¡œ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ í™•ì¥
2. **ì›Œí¬í”Œë¡œìš° ìë™í™”**: git hooksì— ìŠ¤í¬ë¦½íŠ¸ í†µí•©
3. **ëŒ€ì‹œë³´ë“œ**: í† í° ì‚¬ìš©ëŸ‰, ìºì‹œ íˆíŠ¸ìœ¨ ì‹œê°í™”

---

## ğŸ“ ìƒì„±ëœ íŒŒì¼ ëª©ë¡

### ìŠ¤í¬ë¦½íŠ¸ (7ê°œ - Phase 2+3)
- `script/cache_manager.py`
- `script/code_review_analyzer.py`
- `script/config_validator.py`
- `script/doc_analyzer.py`
- `script/tech_rule_generator.py`
- `script/code_merger.py`
- `script/cached_crawler_example.py`

### ê·œì¹™ íŒŒì¼ (4ê°œ)
- `.claude/rules/00-script-first.md`
- `.claude/rules/kotlin-spring.md`
- `.claude/rules/react.md`
- `.claude/rules/django.md`

### ë¬¸ì„œ
- `.claude/phase2-test-results.md`
- `.claude/phase3-test-results.md`

---

## âœ… ê²°ë¡ 

**Phase 3 ì™„ë²½ ì„±ê³µ!**

- âœ… ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ ì •ìƒ ë™ì‘
- âœ… ê·œì¹™ íŒŒì¼ ìë™ ìƒì„± (React, Django ê²€ì¦)
- âœ… ì½”ë“œ ë³‘í•© ì„±ê³µ (11ê°œ íŒŒì¼ â†’ 1ê°œ)
- âœ… í¬ë¡¤ëŸ¬ ìºì‹œ í†µí•© ê°€ì´ë“œ ì œê³µ
- âœ… í† í° ì ˆê° 90%+ ë‹¬ì„±

**ì „ì²´ í”„ë¡œì íŠ¸ (Phase 1-3)**:
- ğŸ“Š ìŠ¤í¬ë¦½íŠ¸ 7ê°œ êµ¬í˜„
- ğŸ“‹ ê·œì¹™ íŒŒì¼ 4ê°œ ìƒì„±
- ğŸ¤– ì—ì´ì „íŠ¸ 4ê°œ ìµœì í™”
- ğŸ¯ í† í° ì ˆê° 90%+ (ëª©í‘œ 45-60% ëŒ€ë¹„ **2ë°° ì´ˆê³¼ ë‹¬ì„±**)

í”„ë¡œì íŠ¸ ì™„ë£Œ! ğŸ‰

---

**ì‘ì„±ì**: Claude Sonnet 4.5
**í…ŒìŠ¤íŠ¸ í™˜ê²½**: macOS, Python 3.x
**í”„ë¡œì íŠ¸**: agent_cc
